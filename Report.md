# گزارش آزمایش اول درس آزمایشگاه مهندسی نرم‌افزار
## نام اعضا: محمدعلی محمدخانی / 98102251 - محمدحسین حاجی سیدسلیمان / 98105687
## شرح آزمایش
هدف از انجام این آزمایش، توسعه یک پروژه ساده بر بستر Github و آشنایی با دستورات مختلف Git است.
پروژه‌ای که برای این آزمایش در نظر گرفته شده است، یک پیام‌رسان ساده است که امکانات مختلفی نظیر ثبت‌نام، ورود به حساب، نمایش کاربران آنلاین، اضافه کردن یک گروه جدید، ارسال پیام به یک کاربر آنلاین دیگر است. جزئیات نحوه کار با برنامه در بخش README قابل مشاهده است.
## مراحل انجام آزمایش
### قسمت اول
در ابتدا، همانطور که در دستور کار گفته شده است؛ باید از شاخه main را محافظت شود. به طوری که کسی قادر به تغییر دادن مستقیم این شاخه نباشد و تنها راه تغییر این شاخه، ارسال درخواست ادغام یا merge request باشد.
تصویری از نحوه انجام این کار در ادامه آورده شده است:

<img width="875" alt="1" src="https://github.com/MoaliMkh/SELab_1/assets/59166192/87b96475-ccb0-4a3c-85a9-380e389b29fc">

پس از انجام این کار، دیگر نمی‌توان به صورت مستقیم روی شاخه main تغیراتی ایجاد کرد. بنابراین از آنجا که شاخه اصلی محافظت شده است؛ هر یک از اعضا باید با ایجاد شاخه های فرعی متناظر با feature های برنامه و سپس merge کردن آن با شاخه اصلی پروژه را جلو ببرند.
در ادامه پس از clone کردن پروژه با دستور `git clone` یک شاخه به نام initiate بر روی شاخه main ساخته شده تا پیکربندی اولیه پروژه بر روی آن انجام شود. پس از ساختن شاخه باید از شاخه main به شاخه initiate تغییر مکان داد.

<img width="701" alt="2" src="https://github.com/MoaliMkh/SELab_1/assets/59166192/81969e9a-c170-4cf8-b436-92b5bae9d1a3">

سپس با استفاده از سایت gitignore.io محدودیت‌ها و زبان پروژه مشخص شده و فایل gitignore. ایجاد می‌شود.

<img width="702" alt="3" src="https://github.com/MoaliMkh/SELab_1/assets/59166192/7c818da5-84e7-414f-857b-064b12c3110b">

حال باید این تغییرات commit شده و در نهایت در سایت github و در remote server به کمک دستور `push` فرستاده شوند. یک بار به طور کامل، تصویر دستورات اجرا شده قرار داده می‌شود و در ادامه گزارش، از قرار دادن تصویر مراحل commit و push کردن به علت اختصار صرف نظر می‌شود.

<img width="1008" alt="4" src="https://github.com/MoaliMkh/SELab_1/assets/59166192/8a5055c6-dd82-411f-bfca-eb352b120b3d">

نمونه دیگری از نحوه stage کردن فایل‌های تغییر یافته و commit زدن در ادامه آورده شده است.

![9](https://github.com/MoaliMkh/SELab_1/assets/59166192/2ee7be47-1a29-4f43-b067-7ceae29ba007)

پس از اجرای دستورات بالا، تغییرات فعلی که در local repository ذخیره شده است؛ به سایت github و به remote server منتقل خواهد شد. این کار به کمک دستور `git push origin branch_name` انجام می‌شود.
در ادامه پس از اعمال تغییرات لازم و پیکربندی ابتدایی پروژه در شاخه initiate باید این شاخه را با شاخه main ادغام یا merge کرد. به این منظور، یک درخواست ادغام جدید ساخته شده و اعضای تیم باید به عنوان reviewer انتخاب شودند تا نظرات و نکات لازم بیان و اعمال گردد.

![8](https://github.com/MoaliMkh/SELab_1/assets/59166192/8adcc981-11f8-41cb-8227-1f0c10ec10fc)

اعضای تیم باید حتما یک review ثبت کنند. پس از اینکه review ثبت شد؛ چون conflict و مغایرتی با شاخه main وجود ندارد گزینه merge pull request را انتخاب کرده و در نهایت ادغام انجام می‌شود.

 <img width="1049" alt="5" src="https://github.com/MoaliMkh/SELab_1/assets/59166192/80037239-61a6-48cb-b26c-648bcefd0d4a">
 
پس از آن سایت guthub می‌پرسد که آیا تمایلی به حذف شاخه ابتدایی (initiate) دارید؟ در این پروژه به علت نگهداری تاریخچه تغییرات این گزینه انتخاب نمی‌شود.

<img width="1228" alt="6" src="https://github.com/MoaliMkh/SELab_1/assets/59166192/9b2ded9f-a9fe-4ffb-863d-38735cd89c79">

به همین ترتیب، شاخه‌های متعددی ساخته شده و توسعه پروژه ادامه می‌یابد. تاریخچه تمام شاخه‌ها و commit ها در سایت github و در مخزن پروژه موجود است.
 
### قسمت دوم
در این قسمت مواجهه با کانفلیکت و نحوه برطرف کردن آن بررسی می‌شود. همانطور که در تاریخچه commit ها نیز مشخص است؛ هنگام ادغام شاخه feature/login با شاخه main کانفلکیت ایجاد شده است.

 ![10](https://github.com/MoaliMkh/SELab_1/assets/59166192/b05eb9b0-9ccd-467e-ad56-4fb47c8c7f7a)
 
به طور مثال تصویر زیر تعارض‌های موجود در فایل client.py را نشان می‌دهد که باید برطرف شوند.

<img width="1059" alt="7" src="https://github.com/MoaliMkh/SELab_1/assets/59166192/291ba150-9c7e-49f3-b2e0-22a3c579d943">

پس از برطرف کردن تعارض‌های موجود و انتخاب یکی از دو نسخه‌ی کد، گزینه resolve conflicts را انتخاب کرده و آن نسخه انتخابی به عنوان نسخه نهایی در نظر گرفته می‌شود. پس از آن، یک commit با محتوای برطرف کردن تعارض‌ها یا resolve confilicts زده می‌شود و آن commit به همراه نسخه انتخابی نهایی کد به remote server ارسال می‌گردد.
توجه شود که تصویر کانفلیکت دومی که باید ایجاد شود؛ به علت اختصار آورده نشده است. اما در تاریخچه commit ها مشهود است.
